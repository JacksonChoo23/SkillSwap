<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="h3 mb-0 text-gray-800">Match Weights</h1>
</div>

<div class="alert alert-light border shadow-sm mb-4">
  <div class="d-flex">
    <div class="me-3 text-primary"><i class="fas fa-info-circle fa-2x"></i></div>
    <div>
      <h6 class="fw-bold mb-1">Weight Configuration Guide</h6>
      <p class="mb-0 small text-muted">
        Adjust weights to control how important different factors are in skill matching.
        Range is 0.01 to 10.00. Higher values have more impact.
      </p>
    </div>
  </div>
</div>

<div class="card shadow-sm border-0">
  <div class="card-body p-0">
    <% if (!weights || weights.length===0) { %>
      <div class="p-4 text-center text-muted">
        <i class="fas fa-sliders-h fa-3x mb-3 text-secondary"></i>
        <p class="mb-0">No weights configured.</p>
      </div>
      <% } else { %>
        <div class="table-responsive">
          <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th class="ps-4">Category</th>
                <th>Level</th>
                <th>Current Weight</th>
                <th class="text-end pe-4" style="min-width: 200px;">Update</th>
              </tr>
            </thead>
            <tbody>
              <% weights.forEach(w=> { %>
                <tr>
                  <td class="ps-4 fw-bold">
                    <%= w.Category?.name || '-' %>
                  </td>
                  <td>
                    <span class="badge bg-secondary">
                      <%= w.level %>
                    </span>
                  </td>
                  <td class="font-monospace text-primary fw-bold">
                    <%= Number(w.weight).toFixed(2) %>
                  </td>
                  <td class="text-end pe-4">
                    <form method="POST" action="/admin/weights/<%= w.id %>" class="d-flex justify-content-end">
                      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                      <div class="input-group input-group-sm" style="width: 150px;">
                        <input name="weight" type="number" step="0.01" min="0.01" max="10"
                          class="form-control text-center" value="<%= Number(w.weight).toFixed(2) %>">
                        <button class="btn btn-outline-primary">Save</button>
                      </div>
                    </form>
                  </td>
                </tr>
                <% }) %>
            </tbody>
          </table>
        </div>
        <div class="p-3 border-top">
          <%- include('../partials/pagination') %>
        </div>
        <% } %>
  </div>
</div>