<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h4 mb-0">Manage Calculator Weights</h1>
  <a class="btn btn-outline-secondary btn-sm" href="/admin">Back to Dashboard</a>
</div>

<p class="text-muted small mb-3">
  Range: 0.01 to 10.00. Small means low impact. Big means high impact.
</p>

<div class="table-responsive">
  <table class="table table-sm align-middle">
    <thead>
      <tr>
        <th>Category</th>
        <th>Level</th>
        <th>Weight</th>
        <th class="text-end">Update</th>
      </tr>
    </thead>
    <tbody>
      <% weights.forEach(w => { %>
        <tr>
          <td><%= w.Category?.name || '-' %></td>
          <td class="text-capitalize"><%= w.level %></td>
          <td><%= Number(w.weight).toFixed(2) %></td>
          <td class="text-end">
            <form method="POST" action="/admin/weights/<%= w.id %>" class="d-inline d-flex gap-2 justify-content-end">
              <input type="hidden" name="_csrf" value="<%= csrfToken %>">
              <input name="weight" type="number" step="0.01" min="0.01" max="10" class="form-control form-control-sm" value="<%= Number(w.weight).toFixed(2) %>" style="width:120px">
              <button class="btn btn-sm btn-primary">Save</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
